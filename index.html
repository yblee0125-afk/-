<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>íŒŒì´ì¬ ë³µìŠµ ê²Œì„ - ì•„ì´ëŒ & ë°©íƒˆì¶œ</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      line-height: 1.6;
      padding: 16px;
      max-width: 900px;
      margin: 0 auto;
    }
    h1, h2, h3 {
      margin-top: 1.4em;
    }
    .chapter {
      border: 1px solid #ccc;
      padding: 12px 16px;
      margin-bottom: 20px;
      border-radius: 8px;
    }
    .stage {
      border-top: 1px dashed #ddd;
      padding-top: 10px;
      margin-top: 10px;
    }
    .code {
      background: #f5f5f5;
      padding: 8px 10px;
      border-radius: 4px;
      font-family: "Fira Code", Consolas, monospace;
      white-space: pre-wrap;
      font-size: 14px;
    }
    .question {
      margin: 8px 0;
      padding: 8px 10px;
      background: #fafafa;
      border-radius: 6px;
      border: 1px solid #eee;
    }
    .question input[type="text"],
    .question textarea {
      width: 100%;
      box-sizing: border-box;
      padding: 6px 8px;
      margin-top: 4px;
      font-size: 14px;
    }
    .result {
      margin-top: 10px;
      font-weight: bold;
    }
    button {
      margin-top: 8px;
      padding: 6px 10px;
      cursor: pointer;
    }
    .hint-buttons {
      margin-top: 6px;
    }
    .hint-btn, .answer-btn {
      font-size: 12px;
      padding: 4px 8px;
      margin-right: 4px;
      background: #e0e0e0;
      border: 1px solid #bdbdbd;
      border-radius: 4px;
    }
    .hint-btn.used, .answer-btn.used {
      background: #ffd54f;
      border-color: #ffb300;
    }
    .hint-box, .answer-box {
      margin-top: 4px;
      font-size: 13px;
      color: #555;
    }
  </style>
</head>
<body>
  <h1>íŒŒì´ì¬ ë³µìŠµ ê²Œì„ ğŸ®</h1>
  <p>
    ìˆ˜ì—…ì´ ëë‚œ ë’¤, ì´ í˜ì´ì§€ë¥¼ ë³´ë©´ì„œ <strong>íŒŒì´ì¬(Jupyter) ìˆ˜ì—… ë‚´ìš©ì„ ë³µìŠµ</strong>í•´ ë³´ì„¸ìš”.<br>
    ê° ì±•í„°ëŠ” ì›í•˜ëŠ” ë§Œí¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´ì„œ ì¦ê²¨ë„ ë©ë‹ˆë‹¤.
  </p>

  <hr>

  <!-- ===================== ì±•í„° 1: ì•„ì´ëŒ ìŠ¤í† ë¦¬ë¶ ===================== -->
  <div class="chapter" id="chapter1">
    <h2>ğŸ“™ ì±•í„° 1. ì•„ì´ëŒ ë°ì´í„° ìŠ¤í† ë¦¬ë¶</h2>
    <p>
      ë„ˆëŠ” ì´ì œ <strong>ì‹ ì¸ ì•„ì´ëŒ ê·¸ë£¹ì˜ ë©¤ë²„</strong>ì…ë‹ˆë‹¤.<br>
      ìš°ë¦¬ ê·¸ë£¹ì˜ ë…¸ë˜ê°€ ì–¼ë§ˆë‚˜ ì‚¬ë‘ë°›ê³  ìˆëŠ”ì§€, <strong>ë°ì´í„°ì™€ ê·¸ë˜í”„</strong>ë¡œ í™•ì¸í•´ë³´ì„¸ìš”!<br>
      Jupyterì—ì„œ ì½”ë“œë¥¼ ì§ì ‘ ì‹¤í–‰í•´ë³´ê³ , ì•„ë˜ ë¬¸ì œë„ í’€ì–´ë³´ì„¸ìš”.
    </p>

    <!-- ê³µí†µ ë°ì´í„° ì½”ë“œ (ìœ ì§€) -->
    <div class="code">
import pandas as pd
import matplotlib.pyplot as plt

data = {
    "day": ["ì›”", "í™”", "ìˆ˜", "ëª©", "ê¸ˆ", "í† ", "ì¼"] * 2,
    "song": ["TITLE"] * 7 + ["B-SIDE"] * 7,
    "streams": [100, 150, 180, 200, 300, 350, 400,
                80, 90, 120, 130, 160, 170, 200]
}

df = pd.DataFrame(data)
print(df.head())
    </div>

    <!-- Stage 1 -->
    <div class="stage">
      <h3>Stage 1. ì¼ë³„ ìŠ¤íŠ¸ë¦¬ë° ê·¸ë˜í”„ ê·¸ë¦¬ê¸°</h3>

      <!-- 1-1 ê·¸ë˜í”„ ê·¸ë¦¬ê¸°(ì„¤ëª…ë§Œ, ì±„ì X) -->
      <div class="question" data-type="text">
        <p><strong>[1-1]</strong>  
          ìœ„ ë°ì´í„°ë¥¼ í™œìš©í•´ì„œ, íƒ€ì´í‹€ê³¡ <strong>"TITLE"</strong>ì˜ ì¼ë³„ ìŠ¤íŠ¸ë¦¬ë° ê·¸ë˜í”„ë¥¼ Jupyterì—ì„œ ì§ì ‘ ê·¸ë ¤ë³´ì„¸ìš”.
          (ì´ ë¬¸ì œëŠ” ììœ  í™œë™ ë¬¸ì œë¼ ìë™ ì±„ì í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.)
        </p>
        <textarea rows="2" placeholder="ê·¸ë˜í”„ë¥¼ ê·¸ë¦¬ë©´ì„œ ëŠë‚€ ì ì´ë‚˜ ê¶ê¸ˆí•œ ì ì„ ì ì–´ë³´ì„¸ìš”."></textarea>
      </div>

      <!-- 1-2 ì¡°ê±´ í•„í„°ë§ ë¬¸ì œ: íŒíŠ¸1=ì„¤ëª…+í•¨ìˆ˜, íŒíŠ¸2=ì½”ë“œ -->
      <div class="question"
           data-type="short"
           data-answer="df[df['song']=='TITLE']|df[df[\"song\"]==\"TITLE\"]|df[df['song'] == 'TITLE']|df[df[\"song\"] == \"TITLE\"]|df_title=df[df['song']=='TITLE']|df_title=df[df[\"song\"]==\"TITLE\"]|df_title = df[df['song']== 'TITLE']|df_title = df[df[\"song\"]==\"TITLE\"]"
           data-hint1="dfì—ì„œ 'song' ì—´ì´ 'TITLE'ì¸ í–‰ë§Œ ê³¨ë¼ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤. ì˜ˆ: df[ df['song'] == 'TITLE' ] í˜•íƒœì˜ˆìš”."
           data-hint2="ì˜ˆì‹œ ì½”ë“œ:  df_title = df[df['song'] == 'TITLE']">
        <p><strong>[1-2]</strong>  
          <strong>TITLE</strong> ê³¡ë§Œ ì„ íƒí•´ì„œ ìƒˆë¡œìš´ ë°ì´í„°í”„ë ˆì„ <code>df_title</code>ì— ë‹´ëŠ” ì½”ë“œë¥¼ í•œ ì¤„ë¡œ ì ì–´ë³´ì„¸ìš”.
        </p>
        <input type="text" placeholder="ì˜ˆ: df_title = df[df['song'] == 'TITLE']" />

        <div class="hint-buttons">
          <button type="button" class="hint-btn" data-hint="1">íŒíŠ¸ 1 ë³´ê¸°</button>
          <button type="button" class="hint-btn" data-hint="2">íŒíŠ¸ 2 ë³´ê¸°</button>
          <button type="button" class="answer-btn">ì •ë‹µ ë³´ê¸°</button>
        </div>
        <div class="hint-box"></div>
        <div class="answer-box"></div>
      </div>
    </div>

    <!-- Stage 2 -->
    <div class="stage">
      <h3>Stage 2. ê°™ì€ ë°ì´í„°ë¼ë¦¬ ë¬¶ì–´ë³´ê¸° (ìš”ì¼ë³„ í•©ê³„ & ë§‰ëŒ€ê·¸ë˜í”„)</h3>

      <!-- 2-1 ìš”ì¼ë³„ ìŠ¤íŠ¸ë¦¬ë° í•©ê³„ êµ¬í•˜ê¸° -->
      <div class="question"
           data-type="short"
           data-answer="df.groupby('day')['streams'].sum()|df.groupby(\"day\")[\"streams\"].sum()|streams_by_day=df.groupby('day')['streams'].sum()|streams_by_day=df.groupby(\"day\")[\"streams\"].sum()|streams_by_day = df.groupby('day')['streams'].sum()|streams_by_day = df.groupby(\"day\")[\"streams\"].sum()"
           data-hint1="groupby í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ 'day' ê¸°ì¤€ìœ¼ë¡œ ë¬¶ê³ , 'streams' ì—´ì— sum()ì„ ì ìš©í•©ë‹ˆë‹¤."
           data-hint2="ì˜ˆì‹œ ì½”ë“œ:  streams_by_day = df.groupby('day')['streams'].sum()">
        <p><strong>[2-1]</strong>  
          ìš”ì¼(<code>day</code>)ë³„ ìŠ¤íŠ¸ë¦¬ë° í•©ê³„ë¥¼ êµ¬í•˜ëŠ” ì½”ë“œë¥¼ í•œ ì¤„ë¡œ ì ì–´ë³´ì„¸ìš”.
        </p>
        <input type="text" placeholder="ì˜ˆ: streams_by_day = df.groupby('day')['streams'].sum()" />

        <div class="hint-buttons">
          <button type="button" class="hint-btn" data-hint="1">íŒíŠ¸ 1 ë³´ê¸°</button>
          <button type="button" class="hint-btn" data-hint="2">íŒíŠ¸ 2 ë³´ê¸°</button>
          <button type="button" class="answer-btn">ì •ë‹µ ë³´ê¸°</button>
        </div>
        <div class="hint-box"></div>
        <div class="answer-box"></div>
      </div>

      <!-- 2-2 ë§‰ëŒ€ ê·¸ë˜í”„ë¡œ ê·¸ë¦¬ê¸° -->
      <div class="question"
           data-type="short"
           data-answer="streams_by_day.plot(kind='bar')|streams_by_day.plot(kind=\"bar\")"
           data-hint1="pandasì˜ plot í•¨ìˆ˜ì— kind='bar'ë¥¼ ì£¼ë©´ ë§‰ëŒ€ê·¸ë˜í”„ë¥¼ ê·¸ë¦´ ìˆ˜ ìˆì–´ìš”."
           data-hint2="ì˜ˆì‹œ ì½”ë“œ:  streams_by_day.plot(kind='bar')">
        <p><strong>[2-2]</strong>  
          <code>streams_by_day</code> ë°ì´í„°ë¥¼ ì´ìš©í•´ <strong>ë§‰ëŒ€ ê·¸ë˜í”„</strong>ë¥¼ ê·¸ë¦¬ëŠ” ì½”ë“œë¥¼ í•œ ì¤„ë¡œ ì ì–´ë³´ì„¸ìš”.
        </p>
        <input type="text" placeholder="ì˜ˆ: streams_by_day.plot(kind='bar')" />

        <div class="hint-buttons">
          <button type="button" class="hint-btn" data-hint="1">íŒíŠ¸ 1 ë³´ê¸°</button>
          <button type="button" class="hint-btn" data-hint="2">íŒíŠ¸ 2 ë³´ê¸°</button>
          <button type="button" class="answer-btn">ì •ë‹µ ë³´ê¸°</button>
        </div>
        <div class="hint-box"></div>
        <div class="answer-box"></div>
      </div>
    </div>

    <!-- Stage 3 -->
    <div class="stage">
      <h3>Stage 3. ìë™ ì°¨íŠ¸ ìƒì„± ë²„íŠ¼ ë§Œë“¤ê¸° (í•¨ìˆ˜ ë§Œë“¤ê¸°)</h3>

      <!-- 3-1 í•¨ìˆ˜ ë§Œë“¤ì–´ ì‹œê°í™”í•˜ê¸° (ì„¤ëª…+íŒíŠ¸ ìœ„ì£¼, ì±„ì X) -->
      <div class="question"
           data-type="text"
           data-hint1="í•¨ìˆ˜ ì•ˆì—ì„œ song_nameìœ¼ë¡œ í–‰ì„ í•„í„°ë§í•˜ê³ , plt.plotìœ¼ë¡œ dayì™€ streamsë¥¼ ê·¸ë¦½ë‹ˆë‹¤."
           data-hint2="ì˜ˆì‹œ ì½”ë“œ:
def plot_song(df, song_name):
    song_df = df[df['song'] == song_name]
    plt.plot(song_df['day'], song_df['streams'])
    plt.title(f'{song_name} ì¼ë³„ ìŠ¤íŠ¸ë¦¬ë°')
    plt.xlabel('ìš”ì¼')
    plt.ylabel('ìŠ¤íŠ¸ë¦¬ë° ìˆ˜')
    plt.show()">
        <p><strong>[3-1]</strong>  
          ë…¸ë˜ ì´ë¦„(<code>song_name</code>)ì„ ë„£ìœ¼ë©´ ìë™ìœ¼ë¡œ ê·¸ ë…¸ë˜ì˜ ì¼ë³„ ìŠ¤íŠ¸ë¦¬ë° ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë³´ì„¸ìš”.  
          (ì´ ë¬¸ì œëŠ” ììœ  ì½”ë”© ë¬¸ì œë¼ ìë™ ì±„ì í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.)
        </p>
        <textarea rows="4" placeholder="def plot_song(df, song_name): ... í˜•íƒœë¡œ í•¨ìˆ˜ë¥¼ ì§ì ‘ ì¨ë³´ì„¸ìš”."></textarea>

        <div class="hint-buttons">
          <button type="button" class="hint-btn" data-hint="1">íŒíŠ¸ 1 ë³´ê¸°</button>
          <button type="button" class="hint-btn" data-hint="2">íŒíŠ¸ 2 ë³´ê¸°</button>
        </div>
        <div class="hint-box"></div>
        <div class="answer-box"></div>
      </div>
    </div>

    <button onclick="checkChapter('chapter1')">ì±•í„° 1 ì ìˆ˜ í™•ì¸í•˜ê¸°</button>
    <div class="result" id="chapter1_result"></div>
  </div>

  <!-- ===================== ì±•í„° 2: ë°©íƒˆì¶œ ì—°êµ¬ì†Œ (ì´ì „ ë²„ì „ ê·¸ëŒ€ë¡œ) ===================== -->
  <div class="chapter" id="chapter2">
    <h2>ğŸ“˜ ì±•í„° 2. ë°ì´í„° í¼ì¦ ë°©íƒˆì¶œ ì—°êµ¬ì†Œ</h2>

    <!-- Stage 1 -->
    <div class="stage">
      <h3>Stage 1. ì •ê·œì‹ í¼ì¦</h3>

      <div class="question"
           data-type="short"
           data-answer="000-0000-0000 í˜•íƒœì˜ ì „í™”ë²ˆí˜¸ë¥¼ ì°¾ëŠ”ë‹¤|ì „í™”ë²ˆí˜¸ í˜•íƒœì˜ ìˆ«ì íŒ¨í„´ì„ ì°¾ëŠ”ë‹¤|ì „í™”ë²ˆí˜¸ë¥¼ ì°¾ëŠ”ë‹¤"
           data-hint1="\dëŠ” ìˆ«ìë¥¼ ì˜ë¯¸í•´ìš”."
           data-hint2="3-4-4 ìë¦¬ ìˆ«ì íŒ¨í„´ì„ ì°¾ëŠ” ì •ê·œì‹ì´ì—ìš”.">
        <p><strong>[Q6]</strong>  
          <code>\d{3}-\d{4}-\d{4}</code> ì •ê·œì‹ì€ ì–´ë–¤ íŒ¨í„´ì„ ì°¾ë‚˜ìš”?
        </p>
        <textarea rows="2"></textarea>

        <div class="hint-buttons">
          <button type="button" class="hint-btn" data-hint="1">íŒíŠ¸ 1 ë³´ê¸°</button>
          <button type="button" class="hint-btn" data-hint="2">íŒíŠ¸ 2 ë³´ê¸°</button>
          <button type="button" class="answer-btn">ì •ë‹µ ë³´ê¸°</button>
        </div>
        <div class="hint-box"></div>
        <div class="answer-box"></div>
      </div>
    </div>

    <!-- Stage 2 -->
    <div class="stage">
      <h3>Stage 2. ë°°ì—´ ì¤‘ì•™ê°’ ì°¾ê¸°</h3>

      <div class="question"
           data-type="short"
           data-answer="arr[1,1]|arr[1, 1]"
           data-hint1="ì¸ë±ìŠ¤ëŠ” 0ë¶€í„° ì‹œì‘í•´ìš”."
           data-hint2="ë‘ ë²ˆì§¸ í–‰, ë‘ ë²ˆì§¸ ì—´ì´ì—ìš”.">
        <p><strong>[Q7]</strong>  
          ì¤‘ì•™ ê°’ 5ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ ì¸ë±ì‹± ì½”ë“œë¥¼ ì ì–´ë³´ì„¸ìš”.
        </p>
        <input type="text" placeholder="ì˜ˆ: arr[1,1]" />

        <div class="hint-buttons">
          <button type="button" class="hint-btn" data-hint="1">íŒíŠ¸ 1 ë³´ê¸°</button>
          <button type="button" class="hint-btn" data-hint="2">íŒíŠ¸ 2 ë³´ê¸°</button>
          <button type="button" class="answer-btn">ì •ë‹µ ë³´ê¸°</button>
        </div>
        <div class="hint-box"></div>
        <div class="answer-box"></div>
      </div>
    </div>

    <!-- Stage 3 -->
    <div class="stage">
      <h3>Stage 3. ë¬¸ìì—´ ìŠ¬ë¼ì´ì‹±</h3>

      <div class="question"
           data-type="short"
           data-answer="secret[5:11]|secret[5:11 ]"
           data-hint1="ë¬¸ìì—´ ì‹œì‘ ì¸ë±ìŠ¤ëŠ” 0ì´ì—ìš”."
           data-hint2="'ESCAPE'ì˜ ì‹œì‘ ì¸ë±ìŠ¤ëŠ” 5ì…ë‹ˆë‹¤.">
        <p><strong>[Q8]</strong>  
          <strong>ESCAPE</strong>ë§Œ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ ìŠ¬ë¼ì´ì‹± ì½”ë“œë¥¼ ì ì–´ë³´ì„¸ìš”.
        </p>
        <input type="text" placeholder="ì˜ˆ: secret[5:11]" />

        <div class="hint-buttons">
          <button type="button" class="hint-btn" data-hint="1">íŒíŠ¸ 1 ë³´ê¸°</button>
          <button type="button" class="hint-btn" data-hint="2">íŒíŠ¸ 2 ë³´ê¸°</button>
          <button type="button" class="answer-btn">ì •ë‹µ ë³´ê¸°</button>
        </div>
        <div class="hint-box"></div>
        <div class="answer-box"></div>
      </div>
    </div>

    <button onclick="checkChapter('chapter2')">ì±•í„° 2 ì ìˆ˜ í™•ì¸í•˜ê¸°</button>
    <div class="result" id="chapter2_result"></div>
  </div>

  <!-- ===================== SCRIPT ===================== -->
  <script>
    // íŒíŠ¸ ë° ì •ë‹µ ë³´ê¸° ë²„íŠ¼ ê¸°ëŠ¥
    document.addEventListener("DOMContentLoaded", function () {
      const questions = document.querySelectorAll(".question");

      questions.forEach(q => {
        const hintBox = q.querySelector(".hint-box");
        const answerBox = q.querySelector(".answer-box");

        // íŒíŠ¸ ë²„íŠ¼
        const hintButtons = q.querySelectorAll(".hint-btn");
        hintButtons.forEach(btn => {
          btn.addEventListener("click", function () {
            const idx = btn.getAttribute("data-hint");
            const hintText = q.getAttribute("data-hint" + idx);
            hintBox.textContent = hintText || "";
            btn.classList.add("used");
          });
        });

        // ì •ë‹µ ë²„íŠ¼
        const answerBtn = q.querySelector(".answer-btn");
        if (answerBtn) {
          answerBtn.addEventListener("click", function () {
            const ansAttr = q.getAttribute("data-answer");
            if (!ansAttr) return;
            const firstAnswer = ansAttr.split("|")[0];
            answerBox.textContent = "ì •ë‹µ: " + firstAnswer;
            answerBtn.classList.add("used");
          });
        }
      });
    });

    // ì±•í„° ì±„ì  ê¸°ëŠ¥ (data-type="short"ì¸ ë¬¸ì œë§Œ ì±„ì )
    function checkChapter(chapterId) {
      const chapter = document.getElementById(chapterId);
      const questions = chapter.querySelectorAll('.question');
      let total = 0;
      let correct = 0;

      questions.forEach(q => {
        const type = q.getAttribute('data-type');
        const answerAttr = q.getAttribute('data-answer');
        if (!answerAttr || type !== 'short') return;

        const answers = answerAttr.split("|").map(a => a.trim().replace(/\s+/g, ""));
        const input = q.querySelector('input[type="text"], textarea');
        if (!input) return;

        const userRaw = (input.value || "").trim();
        const user = userRaw.replace(/\s+/g, "");

        total += 1;
        if (answers.includes(user)) {
          correct += 1;
        }
      });

      const resultEl = document.getElementById(chapterId + "_result");
      resultEl.textContent = `ì •ë‹µ: ${correct} / ${total} ë¬¸ì œ`;
    }
  </script>
</body>
</html>
