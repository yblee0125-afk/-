<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë°ì´í„° ë°©íƒˆì¶œ ê²Œì„ - í•™ìƒìš©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #0f172a;
      color: #e2e8f0;
      margin: 0;
    }
    header {
      text-align: center;
      padding: 2rem 1rem;
      background: #1e293b;
    }
    header h1 {
      margin: 0;
      font-size: 2rem;
      color: #93c5fd;
    }
    main {
      max-width: 900px;
      margin: 0 auto;
      padding: 1rem;
    }
    .stage {
      background: #1e293b;
      padding: 1.2rem 1.5rem;
      border-radius: 12px;
      margin-bottom: 1.2rem;
      border: 1px solid #334155;
    }
    .stage h2 {
      margin-top: 0;
      font-size: 1.3rem;
      color: #bfdbfe;
    }
    pre {
      background: #020617;
      padding: 0.75rem;
      border-radius: 8px;
      overflow-x: auto;
      border: 1px solid #334155;
      font-size: 0.9rem;
    }
    textarea {
      width: 100%;
      height: 110px;
      margin-top: 0.6rem;
      background: #020617;
      border: 1px solid #475569;
      border-radius: 6px;
      color: #e2e8f0;
      font-size: 0.9rem;
      padding: 0.5rem;
      resize: vertical;
    }
    .hint-btn, .check-btn {
      padding: 0.45rem 1rem;
      margin-top: 0.5rem;
      margin-right: 0.4rem;
      border: 1px solid #475569;
      border-radius: 999px;
      background: #1e293b;
      color: white;
      cursor: pointer;
      font-size: 0.85rem;
    }
    .hint-btn.hint-level1 {
      background: #fde047;
      color: #1f2937;
    }
    .hint-btn.hint-level2 {
      background: #4ade80;
      color: #064e3b;
    }
    .hint-output, .feedback {
      margin-top: 0.5rem;
      padding: 0.7rem;
      background: #020617;
      border-radius: 6px;
      border: 1px dashed #475569;
      font-size: 0.9rem;
      white-space: pre-wrap;
    }
    .feedback.ok {
      border-color: #22c55e;
      color: #bbf7d0;
    }
    .feedback.no {
      border-color: #f97316;
      color: #fed7aa;
    }
  </style>
</head>
<body>

<header>
  <h1>ğŸ” ë°ì´í„° ë°©íƒˆì¶œ ê²Œì„ ğŸ”<h1>
  <p>íŒíŠ¸ë¥¼ ë³´ê³  ì½”ë“œë¥¼ ì§ì ‘ ì‘ì„±í•´ ë³´ì„¸ìš”!</p>
</header>

<main>

  <!-- Stage 1 -->
  <section class="stage">
    <h2>ğŸ— Stage 1 â€” íŒŒì¼ ë§Œë“¤ê¸° & ë¶ˆëŸ¬ì˜¤ê¸°</h2>
    <p>
      Jupyter Notebookì—ì„œ ì•„ë˜ ì½”ë“œë¥¼ ì§ì ‘ ì…ë ¥í•´ì„œ<br>
      <code>stage1.csv</code> íŒŒì¼ì„ ë§Œë“¤ê³ , ì œëŒ€ë¡œ ë¶ˆëŸ¬ì˜¤ëŠ”ì§€ í™•ì¸í•´ ë³´ì„¸ìš”.
    </p>

    <pre><code>import pandas as pd

df = pd.DataFrame({
    "ì¡°ê°": ["ë°©1", "íƒˆ2", "ì¶œ3", "ì„±4", "ê³µ5"],
    "íŒíŠ¸": ["ë¬¸1", "ë¬¸2", "ë¬¸3", "ë¬¸4", "ë¬¸5"]
})

df.to_csv("stage1.csv", index=False)

df_loaded = pd.read_csv("stage1.csv")
df_loaded</code></pre>

    <p>
      ğŸ‘‰ ì´ íŒŒì¼ì€ ë‚˜ì¤‘ì— <strong>Stage 5</strong>ì—ì„œ<br>
      <code>"ë°©íƒˆì¶œì„±ê³µ"</code> ì´ë¼ëŠ” ë‹¨ì–´ë¥¼ ë§Œë“œëŠ” ë‹¨ì„œë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.
    </p>
  </section>

  <!-- Stage 2 -->
  <section class="stage">
    <h2>ğŸ” Stage 2 â€” ì •ê·œì‹ ë¬¸ì œ</h2>
    <p>
      ì•„ë˜ ë¬¸ì¥ì—ì„œ <strong>ì •ê·œì‹ì„ ì‚¬ìš©í•´ ìˆ«ì 2025ë¥¼ ì°¾ì•„ë‚´ëŠ” ì½”ë“œ</strong>ë¥¼ ì‘ì„±í•˜ì„¸ìš”.
    </p>

    <pre><code>import re
text = "íƒˆì¶œì½”ë“œëŠ” 2025ë…„ì— ê³µê°œëœë‹¤!"</code></pre>

    <textarea id="s2-code" placeholder="ì—¬ê¸°ì— íŒŒì´ì¬ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”"></textarea>

    <div>
      <button class="check-btn" onclick="checkStage2()">ì •ë‹µ í™•ì¸</button>
      <button class="hint-btn" id="s2-hint-btn">íŒíŠ¸ ë³´ê¸°</button>
    </div>

    <div id="s2-hint" class="hint-output"></div>
    <div id="s2-feedback" class="feedback"></div>
  </section>

  <!-- Stage 3 -->
  <section class="stage">
    <h2>ğŸ§® Stage 3 â€” ë°°ì—´ ì¡°ê° í¼ì¦</h2>
    <p>ë°°ì—´ <code>[2, 4, 6]</code>ì˜ ê°’ì„ ëª¨ë‘ ê³±í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”.</p>

    <pre><code>import numpy as np
arr = np.array([2, 4, 6])</code></pre>

    <textarea id="s3-code" placeholder="ì—¬ê¸°ì— íŒŒì´ì¬ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”"></textarea>

    <div>
      <button class="check-btn" onclick="checkStage3()">ì •ë‹µ í™•ì¸</button>
      <button class="hint-btn" id="s3-hint-btn">íŒíŠ¸ ë³´ê¸°</button>
    </div>

    <div id="s3-hint" class="hint-output"></div>
    <div id="s3-feedback" class="feedback"></div>
  </section>

  <!-- Stage 4 -->
  <section class="stage">
    <h2>âœ‚ Stage 4 â€” ì¸ë±ì‹± Â· ìŠ¬ë¼ì´ì‹±</h2>

    <h3>4-1. ì¸ë±ì‹±</h3>
    <p>ë¬¸ìì—´ <code>word = "HELLO"</code>ì—ì„œ <strong>ë‘ ë²ˆì§¸ ê¸€ì</strong>ë¥¼ êº¼ë‚´ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”.</p>

    <textarea id="s4a-code" placeholder="ì˜ˆ: word[1]"></textarea>

    <div>
      <button class="check-btn" onclick="checkStage4a()">ì •ë‹µ í™•ì¸</button>
      <button class="hint-btn" id="s4a-hint-btn">íŒíŠ¸ ë³´ê¸°</button>
    </div>

    <div id="s4a-hint" class="hint-output"></div>
    <div id="s4a-feedback" class="feedback"></div>

    <h3 style="margin-top:1rem;">4-2. ìŠ¬ë¼ì´ì‹±</h3>
    <p><code>text = "ESCAPEROOM"</code>ì—ì„œ <strong>"ROOM"</strong>ì„ êº¼ë‚´ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”.</p>

    <textarea id="s4b-code" placeholder="ì˜ˆ: text[5:9]"></textarea>

    <div>
      <button class="check-btn" onclick="checkStage4b()">ì •ë‹µ í™•ì¸</button>
      <button class="hint-btn" id="s4b-hint-btn">íŒíŠ¸ ë³´ê¸°</button>
    </div>

    <div id="s4b-hint" class="hint-output"></div>
    <div id="s4b-feedback" class="feedback"></div>
  </section>

  <!-- Stage 5 -->
  <section class="stage">
    <h2>ğŸ§ª Stage 5 â€” 'ë°©íƒˆì¶œì„±ê³µ' ë§Œë“¤ê¸°</h2>
    <p>
      ê¸€ìì™€ ìˆ«ìê°€ ì„ì¸ ë°ì´í„°(<code>"ë°©1", "íƒˆ2"</code> ë“±)ì—ì„œ
      <strong>ìˆ«ìë¥¼ ì œê±°í•˜ê³  ê¸€ìë§Œ ë‚¨ê¸°ëŠ” ì½”ë“œ</strong>ë¥¼ ì‘ì„±í•œ ë’¤,<br>
      ì´ì–´ë¶™ì—¬ ì–´ë–¤ ë‹¨ì–´ê°€ ë˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”.
    </p>

    <textarea id="s5-code" placeholder="íŒíŠ¸: str.replace() ì™€ ì •ê·œì‹ ì‚¬ìš©"></textarea>

    <div>
      <button class="check-btn" onclick="checkStage5()">ì •ë‹µ í™•ì¸</button>
      <button class="hint-btn" id="s5-hint-btn">íŒíŠ¸ ë³´ê¸°</button>
    </div>

    <div id="s5-hint" class="hint-output"></div>
    <div id="s5-feedback" class="feedback"></div>
  </section>

</main>

<script>
/* ------------------------
   íŒíŠ¸ ë²„íŠ¼ ì œì–´
-------------------------*/
function setupHintButton(btnId, outputId, hintText, answerText) {
  const btn = document.getElementById(btnId);
  const out = document.getElementById(outputId);
  btn.dataset.clicks = "0";

  btn.addEventListener("click", () => {
    let c = Number(btn.dataset.clicks) + 1;
    btn.dataset.clicks = c;
    out.textContent = "";

    if (c === 1) {
      btn.classList.add("hint-level1");
      out.textContent = "ğŸ’¡ íŒíŠ¸: " + hintText;
    } else {
      btn.classList.remove("hint-level1");
      btn.classList.add("hint-level2");
      out.textContent = "âœ… ì •ë‹µ ì½”ë“œ:\n\n" + answerText;
    }
  });
}

/* ------------------------
   Stage 2 ì±„ì 
-------------------------*/
function checkStage2() {
  const code = document.getElementById("s2-code").value;
  const fb = document.getElementById("s2-feedback");
  fb.classList.remove("ok", "no");

  if (code.includes("re.search") && code.includes("2025")) {
    fb.textContent = "ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤!";
    fb.classList.add("ok");
  } else {
    fb.textContent = "ì•„ì‰¬ì›Œìš”! íŒíŠ¸ë¥¼ ëˆŒëŸ¬ë³´ì„¸ìš”.";
    fb.classList.add("no");
  }
}

/* ------------------------
   Stage 3: ì •ë‹µ 48
-------------------------*/
function checkStage3() {
  const code = document.getElementById("s3-code").value;
  const fb = document.getElementById("s3-feedback");
  fb.classList.remove("ok", "no");

  if (code.includes("np.prod") && code.includes("arr")) {
    fb.textContent = "ğŸ‰ ì •ë‹µ! 48ì„ êµ¬í•˜ëŠ” ì˜¬ë°”ë¥¸ ì½”ë“œì…ë‹ˆë‹¤.";
    fb.classList.add("ok");
  } else {
    fb.textContent = "ì¡°ê¸ˆ ë” ìƒê°í•´ ë³´ì„¸ìš”!";
    fb.classList.add("no");
  }
}

/* ------------------------
   Stage 4-1: ì •ë‹µ word[1]
-------------------------*/
function checkStage4a() {
  const code = document.getElementById("s4a-code").value.trim();
  const fb = document.getElementById("s4a-feedback");
  fb.classList.remove("ok", "no");

  if (code.replace(/\s/g, "") === "word[1]") {
    fb.textContent = "ğŸ‰ ì •ë‹µ!";
    fb.classList.add("ok");
  } else {
    fb.textContent = "ì¸ë±ì‹±ì€ 0ë¶€í„° ì‹œì‘í•´ìš”!";
    fb.classList.add("no");
  }
}

/* ------------------------
   Stage 4-2: ì •ë‹µ text[5:9]
-------------------------*/
function checkStage4b() {
  const code = document.getElementById("s4b-code").value.replace(/\s/g, "");
  const fb = document.getElementById("s4b-feedback");
  fb.classList.remove("ok", "no");

  if (code === "text[5:9]") {
    fb.textContent = "ğŸ‰ ì •ë‹µ!";
    fb.classList.add("ok");
  } else {
    fb.textContent = "ìŠ¬ë¼ì´ì‹± ë²”ìœ„ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ ë³´ì„¸ìš”!";
    fb.classList.add("no");
  }
}

/* ------------------------
   Stage 5: ìˆ«ì ì œê±° + join â†’ ë°©íƒˆì¶œì„±ê³µ
-------------------------*/
function checkStage5() {
  const code = document.getElementById("s5-code").value;
  const fb = document.getElementById("s5-feedback");
  fb.classList.remove("ok", "no");

  if (
    code.includes("str.replace") &&
    code.includes("\\d+") &&
    (code.includes("''.join") || code.includes('"".
join') || code.includes('"".
join') || code.includes('"".join') )
  ) {
    fb.textContent = "ğŸ‰ ì •ë‹µ! 'ë°©íƒˆì¶œì„±ê³µ'ì„ ë§Œë“œëŠ” ì½”ë“œì…ë‹ˆë‹¤!";
    fb.classList.add("ok");
  } else {
    fb.textContent = "ìˆ«ìë¥¼ ì§€ìš°ê³ (join) ê¸€ìë¥¼ ì´ì–´ë¶™ì´ëŠ” ê³¼ì •ì„ ë– ì˜¬ë ¤ë³´ì„¸ìš”!";
    fb.classList.add("no");
  }
}

/* ------------------------
   íŒíŠ¸ ë²„íŠ¼ ë“±ë¡
-------------------------*/
document.addEventListener("DOMContentLoaded", () => {
  setupHintButton("s2-hint-btn", "s2-hint",
    "re.search ë˜ëŠ” re.findallì„ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.",
    'import re\ntext = "íƒˆì¶œì½”ë“œëŠ” 2025ë…„ì— ê³µê°œëœë‹¤!"\nre.search(r"2025", text)'
  );

  setupHintButton("s3-hint-btn", "s3-hint",
    "np.prod(arr)ë¥¼ ì‚¬ìš©í•´ ë³´ì„¸ìš”!",
    'import numpy as np\narr = np.array([2,4,6])\nnp.prod(arr)'
  );

  setupHintButton("s4a-hint-btn", "s4a-hint",
    "íŒŒì´ì¬ì€ 0ë¶€í„° ì‹œì‘í•´ìš”!",
    'word = "HELLO"\nword[1]'
  );

  setupHintButton("s4b-hint-btn", "s4b-hint",
    "ìŠ¬ë¼ì´ì‹±ì€ text[ì‹œì‘:ë] í˜•íƒœì˜ˆìš”.",
    'text = "ESCAPEROOM"\ntext[5:9]'
  );

  setupHintButton("s5-hint-btn", "s5-hint",
    "str.replaceì™€ ì •ê·œì‹ì„ í•¨ê»˜ ì‚¬ìš©!",
    'df["ê¸€ìë§Œ"] = df["ì¡°ê°"].str.replace(r"\\d+","",regex=True)\n"".join(df["ê¸€ìë§Œ"])'
  );
});
</script>

</body>
</html>
