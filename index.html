<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>íŒŒì´ì¬ ë°©íƒˆì¶œ í€´ì¦ˆ</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui,
        sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      background: #dbeafe;
      color: #1f2933;
    }

    /* ìƒë‹¨ HUD */
    .hud {
      height: 60px;
      padding: 0 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(255, 255, 255, 0.92);
      box-shadow: 0 1px 4px rgba(15, 23, 42, 0.12);
      backdrop-filter: blur(10px);
      position: sticky;
      top: 0;
      z-index: 20;
    }

    .hud-left {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 600;
    }

    .hud-title {
      font-size: 16px;
    }

    .hud-pill {
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 11px;
      background: #e5e7eb;
      color: #374151;
    }

    .hud-right {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 12px;
    }

    .avatar-tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      background: #eef2ff;
      color: #4338ca;
      font-size: 12px;
    }

    .score-tag {
      padding: 4px 10px;
      border-radius: 999px;
      background: #fef3c7;
      color: #92400e;
      font-size: 12px;
    }

    /* ë©”ì¸ ë˜í¼ */
    .map-wrapper {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 24px;
    }

    .map-area {
      position: relative;
      width: min(1100px, 100%);
      aspect-ratio: 16 / 9;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.25);
      background: linear-gradient(
        135deg,
        #a7f3d0 0%,
        #bfdbfe 35%,
        #fef3c7 70%,
        #fecaca 100%
      );
    }

    .map-area::before {
      content: "";
      position: absolute;
      inset: 0;
      background: url("campus-map.png") center/cover no-repeat;
      opacity: 0.85;
      pointer-events: none;
    }

    /* ê³µí†µ ìˆ¨ê¹€ */
    .hidden {
      display: none !important;
    }

    /* ==== ë©”ì¸ ë£¸ ì„ íƒ ==== */
    .room-select {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 18px;
      z-index: 2;
      backdrop-filter: blur(2px);
    }

    .room-select-title {
      font-size: 20px;
      font-weight: 800;
      color: #111827;
      text-shadow: 0 2px 4px rgba(15, 23, 42, 0.25);
      margin-bottom: 4px;
    }

    .room-select-sub {
      font-size: 13px;
      color: #374151;
      margin-bottom: 10px;
      text-align: center;
    }

    .room-grid {
      display: flex;
      gap: 18px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .room-card {
      width: 260px;
      max-width: 90vw;
      background: rgba(255, 255, 255, 0.94);
      border-radius: 20px;
      padding: 14px 16px 14px;
      box-shadow: 0 10px 24px rgba(15, 23, 42, 0.3);
      border: 1px solid rgba(148, 163, 184, 0.4);
      display: flex;
      flex-direction: column;
      gap: 6px;
      backdrop-filter: blur(8px);
    }

    .room-title {
      font-size: 15px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .room-tagline {
      font-size: 12px;
      color: #6b7280;
    }

    .room-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 4px;
      font-size: 11px;
      color: #4b5563;
    }

    .room-meta span {
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .enter-btn {
      margin-top: 8px;
      border-radius: 999px;
      border: none;
      padding: 8px 10px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      background: #6366f1;
      color: #fff;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      align-self: flex-end;
      transition: background 0.12s ease, transform 0.08s ease,
        box-shadow 0.12s ease;
    }

    .enter-btn:hover {
      background: #4f46e5;
      transform: translateY(-1px);
      box-shadow: 0 8px 16px rgba(79, 70, 229, 0.45);
    }

    /* ===== ë°ì´í„°Â·ê·¸ë˜í”„ ë°© ë‚´ë¶€ ë§µ ===== */
    .room-map {
      position: absolute;
      inset: 0;
      z-index: 2;
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .room-map-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: #111827;
      text-shadow: 0 1px 2px rgba(15, 23, 42, 0.3);
    }

    .room-map-title {
      font-size: 17px;
      font-weight: 800;
    }

    .room-map-sub {
      font-size: 13px;
    }

    .back-btn {
      border-radius: 999px;
      border: none;
      padding: 6px 10px;
      font-size: 12px;
      cursor: pointer;
      background: rgba(15, 23, 42, 0.8);
      color: #f9fafb;
    }

    .room-map-body {
      position: relative;
      flex: 1;
      margin-top: 10px;
      border-radius: 16px;
      border: 1px dashed rgba(15, 23, 42, 0.25);
      background: radial-gradient(circle at top, rgba(255, 255, 255, 0.85), rgba(241, 245, 249, 0.9));
      overflow: hidden;
    }

    /* ë¬¸ì œ ìœ„ì¹˜ ë§ˆì»¤ */
    .spot {
      position: absolute;
      transform: translate(-50%, -50%);
      width: 56px;
      height: 56px;
      border-radius: 999px;
      border: 3px solid rgba(31, 41, 55, 0.15);
      background: rgba(255, 255, 255, 0.95);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 19px;
      font-weight: 700;
      color: #374151;
      box-shadow: 0 8px 18px rgba(15, 23, 42, 0.35);
      z-index: 3;
      transition: transform 0.12s ease, box-shadow 0.12s ease,
        background 0.12s ease, border-color 0.12s ease;
    }

    .spot:hover {
      transform: translate(-50%, -50%) translateY(-2px);
      box-shadow: 0 12px 24px rgba(15, 23, 42, 0.45);
      background: #eef2ff;
    }

    .spot-cleared {
      background: #dcfce7;
      border-color: #22c55e;
      color: #14532d;
    }

    /* ë‚œì´ë„ë³„ í…Œë‘ë¦¬ìƒ‰ */
    .spot-very-easy {
      border-color: #22c55e;
    }
    .spot-easy {
      border-color: #60a5fa;
    }
    .spot-normal {
      border-color: #f97316;
    }
    .spot-hard {
      border-color: #111827;
    }

    /* ì¤‘ì•™ í€´ì¦ˆ ì¹´ë“œ */
    .quiz-card {
      position: absolute;
      inset: 50% auto auto 50%;
      transform: translate(-50%, -50%);
      width: min(520px, 90%);
      background: #ffffff;
      border-radius: 28px;
      padding: 24px 26px 22px;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.35);
      display: flex;
      flex-direction: column;
      gap: 18px;
      z-index: 5;
    }

    .quiz-card.hidden {
      display: none;
    }

    .quiz-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }

    .quiz-badges {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      flex-wrap: wrap;
    }

    .badge {
      padding: 3px 8px;
      border-radius: 999px;
      background: #eff6ff;
      color: #1d4ed8;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .badge-progress {
      background: #eef2ff;
      color: #4b5563;
    }

    .badge-difficulty {
      background: #fef3c7;
      color: #92400e;
    }

    .badge-part {
      background: #e0f2fe;
      color: #0369a1;
    }

    .badge-difficulty.very_easy {
      background: #ecfdf5;
      color: #166534;
    }

    .badge-difficulty.easy {
      background: #e0f2fe;
      color: #1d4ed8;
    }

    .badge-difficulty.normal {
      background: #fee2e2;
      color: #b91c1c;
    }

    .badge-difficulty.hard {
      background: #111827;
      color: #f9fafb;
    }

    .quiz-close {
      border: none;
      background: transparent;
      cursor: pointer;
      font-size: 18px;
      line-height: 1;
      color: #9ca3af;
    }

    .quiz-question-title {
      font-size: 18px;
      font-weight: 700;
      line-height: 1.5;
    }

    .quiz-subtitle {
      font-size: 13px;
      color: #6b7280;
      margin-top: 4px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 4px;
    }

    .option-btn {
      width: 100%;
      border-radius: 999px;
      padding: 10px 14px;
      border: 1px solid transparent;
      background: #f3f4ff;
      cursor: pointer;
      text-align: left;
      font-size: 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: background 0.12s ease, transform 0.08s ease,
        box-shadow 0.12s ease, border-color 0.12s ease;
    }

    .option-btn span {
      pointer-events: none;
    }

    .option-btn:hover {
      background: #e0e7ff;
      transform: translateY(-1px);
      box-shadow: 0 6px 14px rgba(148, 163, 184, 0.45);
    }

    .option-btn.selected {
      background: #e0ecff;
      border-color: #4f46e5;
      box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.25);
    }

    .option-btn.correct {
      background: #ecfdf3;
      border-color: #16a34a;
      color: #166534;
    }

    .option-btn.wrong {
      background: #fef2f2;
      border-color: #dc2626;
      color: #b91c1c;
    }

    .quiz-footer {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 6px;
    }

    .submit-btn {
      border: none;
      border-radius: 999px;
      padding: 11px 14px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      background: #6366f1;
      color: white;
      transition: background 0.12s ease, transform 0.08s ease,
        box-shadow 0.12s ease;
    }

    .submit-btn:disabled {
      opacity: 0.5;
      cursor: default;
      box-shadow: none;
      transform: none;
    }

    .submit-btn:hover:not(:disabled) {
      background: #4f46e5;
      transform: translateY(-1px);
      box-shadow: 0 10px 18px rgba(79, 70, 229, 0.4);
    }

    .feedback {
      font-size: 13px;
      min-height: 18px;
    }

    .feedback.correct {
      color: #15803d;
    }

    .feedback.wrong {
      color: #b91c1c;
    }

    .short-input {
      width: 100%;
      border-radius: 10px;
      border: 1px solid #d1d5db;
      padding: 8px 10px;
      font-size: 14px;
      margin-top: 8px;
    }

    .short-input:focus {
      outline: none;
      border-color: #4f46e5;
      box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.16);
    }

    .final-title {
      font-size: 20px;
      font-weight: 800;
      text-align: center;
    }

    .final-score {
      font-size: 16px;
      margin-top: 4px;
      text-align: center;
      color: #374151;
    }

    .final-msg {
      font-size: 13px;
      color: #6b7280;
      text-align: center;
      margin-top: 6px;
    }

    .secondary-btn {
      border-radius: 999px;
      border: 1px solid #d1d5db;
      padding: 8px 12px;
      font-size: 13px;
      background: white;
      cursor: pointer;
    }

    .secondary-btn:hover {
      background: #f3f4f6;
    }

    .final-actions {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-top: 10px;
    }

    /* íŒíŠ¸ ë²„íŠ¼ */
    .hint-btn {
      border: none;
      border-radius: 999px;
      padding: 7px 12px;
      font-size: 13px;
      cursor: pointer;
      background: #e5e7eb;
      color: #374151;
      align-self: flex-start;
      transition: background 0.12s ease, color 0.12s ease, transform 0.08s ease;
    }

    .hint-btn:hover {
      background: #d1d5db;
      transform: translateY(-1px);
    }

    .hint-btn.hint-stage1 {
      background: #9ca3af;
      color: #111827;
    }

    .hint-btn.hint-stage2 {
      background: #6b7280;
      color: #f9fafb;
    }

    /* ê·¸ë˜í”„ íŒì—… ëª¨ë‹¬ (ë°ì´í„°Â·ê·¸ë˜í”„ ë°©ì—ì„œë§Œ ì‚¬ìš©) */
    .graph-modal {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.55);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 40;
    }

    .graph-modal-inner {
      width: min(420px, 90vw);
      background: #ffffff;
      border-radius: 20px;
      padding: 16px 18px 14px;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.6);
    }

    .graph-modal-inner h3 {
      font-size: 16px;
      margin-bottom: 6px;
    }

    .graph-preview {
      margin: 10px 0;
      height: 180px;
      border-radius: 12px;
      border: 1px dashed #cbd5e1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      color: #6b7280;
      background: #f9fafb;
    }

    .graph-modal-close {
      margin-top: 8px;
      border-radius: 999px;
      border: none;
      padding: 8px 12px;
      font-size: 13px;
      background: #6366f1;
      color: #fff;
      cursor: pointer;
    }

    /* ì»¨í˜í‹° */
    .confetti {
      position: fixed;
      width: 6px;
      height: 10px;
      border-radius: 2px;
      animation: confetti-fall 1.8s linear forwards;
      z-index: 50;
      pointer-events: none;
    }

    @keyframes confetti-fall {
      0% {
        opacity: 1;
        transform: translate3d(0, -20px, 0) rotateZ(0deg);
      }
      100% {
        opacity: 0;
        transform: translate3d(0, 120vh, 0) rotateZ(360deg);
      }
    }

    @media (max-width: 640px) {
      .hud-title {
        font-size: 14px;
      }
      .quiz-card {
        padding: 18px 18px 16px;
      }
      .quiz-question-title {
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <!-- ìƒë‹¨ HUD -->
  <header class="hud">
    <div class="hud-left">
      <div class="hud-title">íŒŒì´ì¬ ë°©íƒˆì¶œ í€´ì¦ˆ</div>
      <div class="hud-pill">ì°½ì²´ Â· íŒŒì´ì¬ ê¸°ì´ˆ ë³µìŠµ</div>
    </div>
    <div class="hud-right">
      <div class="avatar-tag">
        <span id="avatarEmoji">ğŸ§‘â€ğŸ’»</span>
        <span id="avatarLabel">ì˜¤ëŠ˜ì˜ ìºë¦­í„°</span>
      </div>
      <div class="score-tag" id="scoreTag">ë°ì´í„°Â·ê·¸ë˜í”„ ë°© í´ë¦¬ì–´: 0 / 8</div>
    </div>
  </header>

  <main class="map-wrapper">
    <section class="map-area">
      <!-- ë©”ì¸ ë°© ì„ íƒ í™”ë©´ -->
      <div class="room-select" id="roomSelectView">
        <div>
          <div class="room-select-title">ì–´ëŠ ë°©ë¶€í„° ë“¤ì–´ê°€ ë³¼ê¹Œìš”?</div>
          <div class="room-select-sub">
            ì¶œë ¥Â·ë³€ìˆ˜ / ë°ì´í„°Â·ê·¸ë˜í”„ / ë¬¸ìì—´Â·ì •ê·œì‹Â·ë°°ì—´ ë°© ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•´<br />
            íŒŒì´ì¬ ì‹¤ë ¥ì„ ì‹œí—˜í•´ ë³´ì„¸ìš”!
          </div>
        </div>
        <div class="room-grid">
          <!-- Room 1: ì¶œë ¥Â·ë³€ìˆ˜ -->
          <article class="room-card">
            <div class="room-title">ğŸ“˜ ROOM 1 â€“ ì¶œë ¥Â·ë³€ìˆ˜</div>
            <p class="room-tagline">
              print, ë³€ìˆ˜, ì½”ë“œ ê°œë…ì„ ë³µìŠµí•˜ëŠ” ê¸°ì´ˆ ë°©ì…ë‹ˆë‹¤.
            </p>
            <div class="room-meta">
              <span>ë ˆë²¨: ğŸ§©âœ¨âš¡ğŸ”</span>
              <span>ë¬¸ì œ ìƒíƒœ: íŠœí† ë¦¬ì–¼ë§Œ</span>
            </div>
            <button class="enter-btn" id="enterBasic">
              ì…ì¥í•˜ê¸°
            </button>
          </article>

          <!-- Room 2: ë°ì´í„°Â·ê·¸ë˜í”„ -->
          <article class="room-card">
            <div class="room-title">ğŸ“™ ROOM 2 â€“ ë°ì´í„°Â·ê·¸ë˜í”„</div>
            <p class="room-tagline">
              ë°ì´í„°í”„ë ˆì„ê³¼ ê·¸ë˜í”„ë¥¼ ì´ìš©í•´ ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„°ë¥¼ ë¶„ì„í•´ ë´…ë‹ˆë‹¤.
            </p>
            <div class="room-meta">
              <span>ë ˆë²¨: ğŸ§©âœ¨âš¡ğŸ”</span>
              <span>ë¬¸ì œ ìƒíƒœ: 8ë¬¸ì œ í’€ê¸°</span>
            </div>
            <button class="enter-btn" id="enterData">
              ì…ì¥í•˜ê¸°
            </button>
          </article>

          <!-- Room 3: ë¬¸ìì—´Â·ì •ê·œì‹Â·ë°°ì—´ -->
          <article class="room-card">
            <div class="room-title">ğŸ“— ROOM 3 â€“ ë¬¸ìì—´Â·ì •ê·œì‹Â·ë°°ì—´</div>
            <p class="room-tagline">
              ë¬¸ìì—´ ì¸ë±ì‹±, ì •ê·œì‹, ë°°ì—´ì„ í™œìš©í•´ ë¹„ë°€ ì½”ë“œë¥¼ í•´ë…í•˜ëŠ” ë°©ì…ë‹ˆë‹¤.
            </p>
            <div class="room-meta">
              <span>ë ˆë²¨: ğŸ§©âœ¨âš¡ğŸ”</span>
              <span>ë¬¸ì œ ìƒíƒœ: íŠœí† ë¦¬ì–¼ë§Œ</span>
            </div>
            <button class="enter-btn" id="enterString">
              ì…ì¥í•˜ê¸°
            </button>
          </article>
        </div>
      </div>

      <!-- ë°ì´í„°Â·ê·¸ë˜í”„ ë°© ë§µ -->
      <div class="room-map hidden" id="dataRoomView">
        <div class="room-map-header">
          <div>
            <div class="room-map-title">ğŸ“™ ROOM 2 â€“ ë°ì´í„°Â·ê·¸ë˜í”„</div>
            <div class="room-map-sub">
              ë§µ ê³³ê³³ì˜ ğŸ§©âœ¨âš¡ğŸ” ì•„ì´ì½˜ì„ ëˆŒëŸ¬ ë¬¸ì œë¥¼ í’€ì–´ë³´ì„¸ìš”.
            </div>
          </div>
          <button class="back-btn" id="backToRooms">â† ë°© ì„ íƒìœ¼ë¡œ</button>
        </div>

        <div class="room-map-body">
          <!-- ë‚œì´ë„ë³„ ë¬¸ì œ ì•„ì´ì½˜ (8ë¬¸ì œ ì˜ˆì‹œ) -->
          <!-- idëŠ” ì§ˆë¬¸ idì™€ ë™ì¼í•˜ê²Œ ë§¤í•‘ -->
          <button class="spot spot-very-easy" data-q="1" style="top: 20%; left: 25%;">1</button>
          <button class="spot spot-very-easy" data-q="2" style="top: 28%; left: 70%;">2</button>
          <button class="spot spot-easy" data-q="3" style="top: 50%; left: 18%;">3</button>
          <button class="spot spot-easy" data-q="4" style="top: 62%; left: 45%;">4</button>
          <button class="spot spot-normal" data-q="5" style="top: 32%; left: 48%;">5</button>
          <button class="spot spot-normal" data-q="6" style="top: 72%; left: 80%;">6</button>
          <button class="spot spot-hard" data-q="7" style="top: 78%; left: 28%;">7</button>
          <button class="spot spot-hard" data-q="8" style="top: 45%; left: 70%;">8</button>
        </div>
      </div>

      <!-- í€´ì¦ˆ ì¹´ë“œ (ë°ì´í„°Â·ê·¸ë˜í”„ ë°© + íŠœí† ë¦¬ì–¼ ê³µìš©) -->
      <article class="quiz-card hidden" id="quizCard">
        <div class="quiz-header">
          <div class="quiz-badges">
            <div class="badge badge-progress" id="progressBadge">ë¬¸ì œë¥¼ ì„ íƒí•˜ì„¸ìš”</div>
            <div class="badge badge-difficulty" id="levelBadge">ë‚œì´ë„: ì•ˆë‚´</div>
            <div class="badge badge-part" id="partBadge">íŒŒíŠ¸: -</div>
          </div>
          <button class="quiz-close" id="closeCardBtn" title="ë‹«ê¸°">Ã—</button>
        </div>

        <div id="quizContent"></div>
      </article>
    </section>
  </main>

  <script>
    // ===== ëœë¤ ìºë¦­í„° =====
    const avatars = [
      { emoji: "ğŸ§‘â€ğŸ’»", label: "ì½”ë”© ì—°ìŠµìƒ" },
      { emoji: "ğŸ§‘â€ğŸ¤", label: "ì•„ì´ëŒ ì›Œí¬ëŒ" },
      { emoji: "ğŸ§‘â€ğŸ«", label: "íŒŒì´ì¬ ì¡°êµ" },
      { emoji: "ğŸ§‘â€ğŸš€", label: "ë°ì´í„° íƒì‚¬ ìš”ì›" },
      { emoji: "ğŸ§‘â€ğŸ”¬", label: "ì‹¤í—˜ì‹¤ ì—°êµ¬ëŒ" }
    ];

    function pickRandomAvatar() {
      const a = avatars[Math.floor(Math.random() * avatars.length)];
      document.getElementById("avatarEmoji").textContent = a.emoji;
      document.getElementById("avatarLabel").textContent = a.label;
    }

    // ===== ìœ í‹¸ =====
    function normalize(str) {
      return (str || "").trim().replace(/\s+/g, "").toLowerCase();
    }

    // ===== ë°ì´í„°Â·ê·¸ë˜í”„ ë°© í€´ì¦ˆ ë°ì´í„° =====
    // difficulty: very_easy(ğŸ§©), easy(âœ¨), normal(âš¡), hard(ğŸ”)
    const dataQuestions = [
      {
        id: 1,
        difficulty: "very_easy",
        part: "ë°ì´í„°Â·ê·¸ë˜í”„",
        type: "mc",
        text: "Pandasì—ì„œ ì—‘ì…€ì²˜ëŸ¼ í–‰ê³¼ ì—´ë¡œ ì´ë£¨ì–´ì§„ í‘œ í˜•ì‹ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ìë£Œ êµ¬ì¡°ëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
        options: ["Series", "DataFrame", "Array", "List"],
        answer: "DataFrame",
        subtitle: "í‘œ í˜•íƒœ(í–‰+ì—´)ì˜ ë°ì´í„°ë¥¼ ë‹¤ë£° ë•ŒëŠ” ë³´í†µ DataFrameì„ ì‚¬ìš©í•©ë‹ˆë‹¤."
      },
      {
        id: 2,
        difficulty: "very_easy",
        part: "ë°ì´í„°Â·ê·¸ë˜í”„",
        type: "mc",
        text: "ë‹¤ìŒ ì¤‘ DataFrame dfì˜ ì•ë¶€ë¶„(ì²˜ìŒ 5í–‰)ì„ ê°„ë‹¨íˆ í™•ì¸í•˜ëŠ” ì½”ë“œë¡œ ì•Œë§ì€ ê²ƒì€?",
        options: ["df.top()", "df.head()", "df.info()", "df.print()"],
        answer: "df.head()",
        subtitle: "head() í•¨ìˆ˜ëŠ” DataFrameì˜ ìœ„ìª½ ì¼ë¶€ë§Œ ë¹ ë¥´ê²Œ ì‚´í´ë³¼ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤."
      },
      {
        id: 3,
        difficulty: "easy",
        part: "ë°ì´í„°Â·ê·¸ë˜í”„",
        type: "short",
        text: "DataFrame dfì—ì„œ 'day' ì—´ë§Œ ì„ íƒí•˜ë ¤ê³  í•©ë‹ˆë‹¤.\n'day' ì—´ í•˜ë‚˜ë§Œ ê°€ì ¸ì˜¤ëŠ” ì½”ë“œë¥¼ ì ì–´ë³´ì„¸ìš”.",
        answers: ["df['day']", "df[\"day\"]"],
        subtitle: "df[ì—´ì´ë¦„] í˜•íƒœë¡œ íŠ¹ì • ì—´ì„ ì„ íƒí•  ìˆ˜ ìˆì–´ìš”."
      },
      {
        id: 4,
        difficulty: "easy",
        part: "ë°ì´í„°Â·ê·¸ë˜í”„",
        type: "mc",
        text:
          "ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„° dfì—ì„œ ë…¸ë˜ ì œëª©(song)ì´ 'TITLE'ì¸ í–‰ë§Œ ê³ ë¥´ê³  ì‹¶ìŠµë‹ˆë‹¤. ê°€ì¥ ì•Œë§ì€ ì½”ë“œëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
        options: [
          "df['song'] == 'TITLE'",
          "df[df['song'] == 'TITLE']",
          "df['TITLE' == song]",
          "df.song = 'TITLE'"
        ],
        answer: "df[df['song'] == 'TITLE']",
        subtitle: "df[ì¡°ê±´] í˜•íƒœë¡œ ì¡°ê±´ì— ë§ëŠ” í–‰ë§Œ ê³¨ë¼ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
      },
      {
        id: 5,
        difficulty: "normal",
        part: "ë°ì´í„°Â·ê·¸ë˜í”„",
        type: "short",
        text:
          "df ì•ˆì— day(ìš”ì¼)ì™€ streams(ì¬ìƒ ìˆ˜) ì—´ì´ ìˆìŠµë‹ˆë‹¤.\nìš”ì¼(day)ë³„ ìŠ¤íŠ¸ë¦¬ë° í•©ê³„ë¥¼ êµ¬í•˜ëŠ” ì½”ë“œë¥¼ í•œ ì¤„ë¡œ ì ì–´ë³´ì„¸ìš”.",
        answers: [
          "df.groupby('day')['streams'].sum()",
          "streams_by_day = df.groupby('day')['streams'].sum()",
          "streams_by_day=df.groupby('day')['streams'].sum()"
        ],
        subtitle:
          "groupby(ê¸°ì¤€ì—´)['ê³„ì‚°í• ì—´'].sum() í˜•íƒœë¥¼ ë– ì˜¬ë ¤ ë³´ì„¸ìš”."
      },
      {
        id: 6,
        difficulty: "normal",
        part: "ë°ì´í„°Â·ê·¸ë˜í”„",
        type: "short",
        text:
          "ì•ì—ì„œ êµ¬í•œ streams_by_day ë°ì´í„°ë¥¼ ì´ìš©í•´ ë§‰ëŒ€ ê·¸ë˜í”„ë¥¼ ê·¸ë¦¬ë ¤ê³  í•©ë‹ˆë‹¤.\nì•Œë§ì€ ì½”ë“œë¥¼ ì ì–´ë³´ì„¸ìš”.",
        answers: [
          "streams_by_day.plot(kind='bar')",
          "streams_by_day.plot(kind=\"bar\")"
        ],
        subtitle:
          "pandas Seriesë‚˜ DataFrameì€ .plot(kind='bar')ì²˜ëŸ¼ plot í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.",
        showGraphPopup: true
      },
      {
        id: 7,
        difficulty: "hard",
        part: "ë°ì´í„°Â·ê·¸ë˜í”„",
        type: "short",
        text:
          "ìš”ì¼(day)ë³„ ìŠ¤íŠ¸ë¦¬ë°ì˜ 'í‰ê· 'ì„ êµ¬í•˜ë ¤ê³  í•©ë‹ˆë‹¤.\nstreams ì—´ ê¸°ì¤€ìœ¼ë¡œ ìš”ì¼ë³„ í‰ê·  ìŠ¤íŠ¸ë¦¬ë° ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ì½”ë“œë¥¼ ì ì–´ë³´ì„¸ìš”.",
        answers: [
          "df.groupby('day')['streams'].mean()",
          "streams_by_day_mean = df.groupby('day')['streams'].mean()",
          "streams_by_day_mean=df.groupby('day')['streams'].mean()"
        ],
        subtitle:
          "í•©ê³„ê°€ sum()ì´ë¼ë©´, í‰ê· ì€ mean() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤."
      },
      {
        id: 8,
        difficulty: "hard",
        part: "ë°ì´í„°Â·ê·¸ë˜í”„",
        type: "short",
        text:
          "dfë¥¼ ë…¸ë˜ ì œëª©(song)ë³„ë¡œ ë‚˜ëˆ„ì–´, ê° ë…¸ë˜ì˜ ì¼ë³„ ìŠ¤íŠ¸ë¦¬ë° ê³¡ì„ ì„ í•œ ê·¸ë˜í”„ì— ëª¨ë‘ ê·¸ë¦¬ë ¤ê³  í•©ë‹ˆë‹¤.\nforë¬¸ê³¼ groupbyë¥¼ ì´ìš©í•´ songë³„ë¡œ dayì™€ streamsë¥¼ ê·¸ë¦¬ëŠ” ì½”ë“œë¥¼ ì™„ì„±í•´ë³´ì„¸ìš”.",
        answers: [
          "for name, g in df.groupby('song'):\n    plt.plot(g['day'], g['streams'], label=name)\nplt.legend()",
          "for name,g in df.groupby('song'):\n    plt.plot(g['day'], g['streams'], label=name)\nplt.legend()"
        ],
        subtitle:
          "groupby('song')ë¥¼ ì‚¬ìš©í•˜ë©´ ë…¸ë˜ ì œëª©ë³„ë¡œ ë°ì´í„°ë¥¼ ë‚˜ëˆ„ì–´ ë°˜ë³µë¬¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
      }
    ];

    const totalQuestions = dataQuestions.length;
    const answeredCorrect = {};
    let gameCleared = false;

    const roomSelectView = document.getElementById("roomSelectView");
    const dataRoomView = document.getElementById("dataRoomView");
    const quizCardEl = document.getElementById("quizCard");
    const quizContentEl = document.getElementById("quizContent");
    const progressBadgeEl = document.getElementById("progressBadge");
    const levelBadgeEl = document.getElementById("levelBadge");
    const partBadgeEl = document.getElementById("partBadge");
    const scoreTagEl = document.getElementById("scoreTag");
    const closeCardBtn = document.getElementById("closeCardBtn");

    function updateScoreTag() {
      const cleared = Object.keys(answeredCorrect).length;
      scoreTagEl.textContent = `ë°ì´í„°Â·ê·¸ë˜í”„ ë°© í´ë¦¬ì–´: ${cleared} / ${totalQuestions}`;
    }

    // ë‚œì´ë„ ë°°ì§€ ì„¤ì • (ì•„ì´ì½˜ + í…ìŠ¤íŠ¸)
    function setDifficultyBadge(diffKey) {
      const map = {
        very_easy: { icon: "ğŸ§©", label: "ì•„ì£¼ ì‰¬ì›€" },
        easy: { icon: "âœ¨", label: "ì‰¬ì›€" },
        normal: { icon: "âš¡", label: "ë³´í†µ" },
        hard: { icon: "ğŸ”", label: "ì–´ë ¤ì›€" }
      };
      const info = map[diffKey] || { icon: "âš¡", label: "ë³´í†µ" };

      levelBadgeEl.textContent = `${info.icon} ë‚œì´ë„: ${info.label}`;
      levelBadgeEl.classList.remove("very_easy", "easy", "normal", "hard");
      levelBadgeEl.classList.add(diffKey || "normal");
    }

    function setPartBadge(part) {
      partBadgeEl.textContent = part ? `íŒŒíŠ¸: ${part}` : "íŒŒíŠ¸: -";
    }

    function getDataQuestionById(id) {
      return dataQuestions.find((q) => q.id === id);
    }

    // ===== íŠœí† ë¦¬ì–¼ ì¹´ë“œ (Room1 / Room3) =====
    function openTutorialCard(roomType) {
      quizCardEl.classList.remove("hidden");

      let title = "";
      let body = "";
      let partLabel = "";

      if (roomType === "basic") {
        title = "ğŸ“˜ ROOM 1 â€“ ì¶œë ¥Â·ë³€ìˆ˜ íŠœí† ë¦¬ì–¼";
        partLabel = "ì¶œë ¥Â·ë³€ìˆ˜";
        body = `
          <p class="quiz-subtitle">
            ì´ ë°©ì—ì„œëŠ” <strong>print, ë³€ìˆ˜, ì½”ë“œ</strong>ì™€ ê°™ì´ íŒŒì´ì¬ì˜ ê°€ì¥ ê¸°ì´ˆì ì¸ ê°œë…ì„ ë³µìŠµí•  ì˜ˆì •ì…ë‹ˆë‹¤.<br>
            ì‹¤ì œ ìˆ˜ì—…ì—ì„œëŠ” ì´ ë°©ì—ì„œ ê°€ì¥ ì‰¬ìš´ ë¬¸ì œë¶€í„° ì°¨ê·¼ì°¨ê·¼ í’€ì–´ë³¼ ê±°ì˜ˆìš”.
          </p>
          <p class="quiz-subtitle" style="margin-top:8px;">
            ì§€ê¸ˆì€ íŠœí† ë¦¬ì–¼ë§Œ ì¤€ë¹„ë˜ì–´ ìˆì–´ìš”.<br>
            <strong>ë°ì´í„°Â·ê·¸ë˜í”„ ë°©</strong>ì— ë¨¼ì € ì…ì¥í•´ ë¬¸ì œë¥¼ í’€ì–´ë³´ê³ ,<br>
            ë‹¤ìŒ ì‹œê°„ì— ì´ ë°©ì˜ ë¬¸ì œë„ ì±„ì›Œ ë„£ì–´ë³¼ê¹Œìš”?
          </p>
        `;
      } else if (roomType === "string") {
        title = "ğŸ“— ROOM 3 â€“ ë¬¸ìì—´Â·ì •ê·œì‹Â·ë°°ì—´ íŠœí† ë¦¬ì–¼";
        partLabel = "ë¬¸ìì—´Â·ì •ê·œì‹Â·ë°°ì—´";
        body = `
          <p class="quiz-subtitle">
            ì´ ë°©ì—ì„œëŠ” <strong>ë¬¸ìì—´ ì¸ë±ì‹±, ìŠ¬ë¼ì´ì‹±, ì •ê·œì‹, ë°°ì—´</strong>ì„ ì´ìš©í•´ ë¹„ë°€ ì½”ë“œë¥¼ í•´ë…í•˜ê²Œ ë©ë‹ˆë‹¤.<br>
          </p>
          <p class="quiz-subtitle" style="margin-top:8px;">
            í˜„ì¬ëŠ” íŠœí† ë¦¬ì–¼ë§Œ ì¤€ë¹„ëœ ìƒíƒœì…ë‹ˆë‹¤.<br>
            ë¨¼ì € <strong>ë°ì´í„°Â·ê·¸ë˜í”„ ë°©</strong>ì—ì„œ ë¬¸ì œë¥¼ í’€ì–´ë³´ê³ ,<br>
            ì´í›„ ì´ ë°©ì— ë‚œì´ë„ë³„ ë¬¸ì œë¥¼ ì¶”ê°€í•´ í™•ì¥í•  ìˆ˜ ìˆì–´ìš”.
          </p>
        `;
      }

      progressBadgeEl.textContent = "íŠœí† ë¦¬ì–¼";
      setDifficultyBadge(null);
      setPartBadge(partLabel);

      quizContentEl.innerHTML = `
        <div>
          <h2 class="quiz-question-title">${title}</h2>
          ${body}
        </div>
        <div class="quiz-footer">
          <button class="submit-btn" id="closeTutorialBtn">ëŒì•„ê°€ê¸°</button>
          <div class="feedback"></div>
        </div>
      `;

      document
        .getElementById("closeTutorialBtn")
        .addEventListener("click", () => {
          quizCardEl.classList.add("hidden");
        });
    }

    // ===== ë°ì´í„°Â·ê·¸ë˜í”„ ë°© ë¬¸ì œ ë Œë”ë§ =====
    function renderDataQuestion(q) {
      quizCardEl.classList.remove("hidden");

      const indexInArray = dataQuestions.findIndex((qq) => qq.id === q.id);
      progressBadgeEl.textContent = `ë¬¸ì œ ${indexInArray + 1} / ${totalQuestions}`;
      setDifficultyBadge(q.difficulty);
      setPartBadge(q.part);

      const subtitleHtml = q.subtitle
        ? `<p class="quiz-subtitle">${q.subtitle.replace(/\n/g, "<br>")}</p>`
        : "";

      const html = `
        <div>
          <h2 class="quiz-question-title">${q.text.replace(/\n/g, "<br>")}</h2>
          ${subtitleHtml}
        </div>
        <div class="quiz-footer">
          <div id="interactionArea"></div>
          <button class="submit-btn" id="submitBtn" disabled>ì œì¶œí•˜ê¸°</button>
          <div class="feedback" id="feedback"></div>
        </div>
      `;
      quizContentEl.innerHTML = html;

      const interactionArea = document.getElementById("interactionArea");
      const submitBtn = document.getElementById("submitBtn");
      const feedbackEl = document.getElementById("feedback");
      const subtitleEl = quizContentEl.querySelector(".quiz-subtitle");

      // ì²˜ìŒì—ëŠ” íŒíŠ¸(subtitle)ë¥¼ ìˆ¨ê¹€
      if (subtitleEl) {
        subtitleEl.style.display = "none";
      }

      let selectedOption = null;
      let shortInputEl = null;

      // ì…ë ¥ UI êµ¬ì„±
      if (q.type === "mc") {
        const optionsWrap = document.createElement("div");
        optionsWrap.className = "options";
        q.options.forEach((opt) => {
          const btn = document.createElement("button");
          btn.className = "option-btn";
          btn.type = "button";
          btn.innerHTML = `<span>${opt}</span>`;
          btn.addEventListener("click", () => {
            selectedOption = opt;
            submitBtn.disabled = false;
            document
              .querySelectorAll(".option-btn")
              .forEach((b) => b.classList.remove("selected"));
            btn.classList.add("selected");
          });
          optionsWrap.appendChild(btn);
        });
        interactionArea.appendChild(optionsWrap);
      } else if (q.type === "short") {
        const input = document.createElement("textarea");
        input.className = "short-input";
        input.rows = 3;
        input.placeholder = "ì—¬ê¸°ì— ì½”ë“œë¥¼ ì ì–´ë³´ì„¸ìš”.";
        shortInputEl = input;
        interactionArea.appendChild(input);
        input.addEventListener("input", () => {
          if (input.dataset.hintFilled === "1") {
            input.style.color = "#111827";
            input.dataset.hintFilled = "0";
          }
          submitBtn.disabled = !input.value.trim();
        });
      }

      // íŒíŠ¸ ë²„íŠ¼
      const quizFooter = submitBtn.parentElement;
      const hintBtn = document.createElement("button");
      hintBtn.type = "button";
      hintBtn.className = "hint-btn";
      hintBtn.textContent = "íŒíŠ¸ ë³´ê¸°";
      quizFooter.insertBefore(hintBtn, feedbackEl);

      let hintStage = 0; // 0: ì—†ìŒ, 1: subtitle í‘œì‹œ, 2: ì…ë ¥ì¹¸ì— ì •ë‹µ ì±„ìš°ê¸°

      hintBtn.addEventListener("click", () => {
        if (hintStage === 0) {
          if (subtitleEl) {
            subtitleEl.style.display = "block";
            subtitleEl.style.color = "#111827";
            subtitleEl.style.fontWeight = "700";
          }
          hintBtn.classList.add("hint-stage1");
          hintStage = 1;
        } else if (hintStage === 1) {
          const correctText =
            q.type === "mc"
              ? q.answer
              : (q.answers && q.answers[0]) || "";

          if (q.type === "short" && shortInputEl) {
            shortInputEl.value = correctText;
            shortInputEl.style.color = "#9ca3af";
            shortInputEl.dataset.hintFilled = "1";
            submitBtn.disabled = false;
          } else if (q.type === "mc") {
            const optionButtons = document.querySelectorAll(".option-btn");
            optionButtons.forEach((btn) => {
              const text = btn.innerText.trim();
              btn.classList.remove("selected");
              if (text === correctText) {
                btn.classList.add("selected");
                btn.style.color = "#6b7280";
                selectedOption = correctText;
                submitBtn.disabled = false;
              }
            });
          }

          hintBtn.classList.add("hint-stage2");
          hintStage = 2;
        }
      });

      // ì œì¶œí•˜ê¸°
      submitBtn.addEventListener("click", () => {
        let isCorrect = false;

        if (q.type === "mc") {
          if (!selectedOption) return;
          isCorrect = selectedOption === q.answer;

          document.querySelectorAll(".option-btn").forEach((btn) => {
            const text = btn.innerText.trim();
            if (text === q.answer) btn.classList.add("correct");
            if (text === selectedOption && text !== q.answer)
              btn.classList.add("wrong");
          });
        } else if (q.type === "short") {
          const raw = shortInputEl ? shortInputEl.value : "";
          const userNorm = normalize(raw);
          const correctNorms = (q.answers || []).map((a) => normalize(a));
          isCorrect = correctNorms.includes(userNorm);
        }

        if (isCorrect) {
          feedbackEl.textContent = "âœ… ì •ë‹µì…ë‹ˆë‹¤! ì´ ë¬¸ì œë¥¼ í´ë¦¬ì–´í–ˆì–´ìš”.";
          feedbackEl.className = "feedback correct";

          if (!answeredCorrect[q.id]) {
            answeredCorrect[q.id] = true;
            updateScoreTag();
            const spot = document.querySelector(
              `.spot[data-q="${q.id}"]`
            );
            if (spot) spot.classList.add("spot-cleared");
          }

          if (q.showGraphPopup) {
            openGraphModal();
          }

          checkGameClear();
        } else {
          feedbackEl.innerHTML =
            "âŒ ì•„ì‰½ì§€ë§Œ ì˜¤ë‹µì…ë‹ˆë‹¤. <br>ì‘ì„±í•œ ë‹µì•ˆê³¼ íŒíŠ¸ë¥¼ ë‹¤ì‹œ í•œ ë²ˆ ì‚´í´ë³´ì„¸ìš”!";
          feedbackEl.className = "feedback wrong";
        }
      });
    }

    // ê·¸ë˜í”„ íŒì—… (streams_by_day.plot(...) ë¬¸ì œìš©)
    function openGraphModal() {
      const modal = document.createElement("div");
      modal.className = "graph-modal";
      modal.innerHTML = `
        <div class="graph-modal-inner">
          <h3>ğŸ“Š ê·¸ë˜í”„ ì˜ˆì‹œ í™•ì¸</h3>
          <p class="quiz-subtitle">
            ì •ë‹µ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´, ì•„ë˜ì™€ ê°™ì´ ìš”ì¼ë³„ ìŠ¤íŠ¸ë¦¬ë° í•©ê³„ë¥¼ ë³´ì—¬ì£¼ëŠ” ë§‰ëŒ€ ê·¸ë˜í”„ê°€ ê·¸ë ¤ì§‘ë‹ˆë‹¤.
          </p>
          <div class="graph-preview">
            (ì—¬ê¸°ì— ìš”ì¼ë³„ ë§‰ëŒ€ ê·¸ë˜í”„ ì´ë¯¸ì§€ë¥¼ ë„£ì„ ìˆ˜ ìˆì–´ìš”.)
          </div>
          <button class="graph-modal-close">í™•ì¸</button>
        </div>
      `;
      document.body.appendChild(modal);

      modal.querySelector(".graph-modal-close").addEventListener("click", () => {
        modal.remove();
      });
    }

    // ì»¨í˜í‹° & ê²Œì„ í´ë¦¬ì–´
    function launchConfetti() {
      const colors = ["#f97316", "#22c55e", "#3b82f6", "#a855f7", "#eab308"];
      for (let i = 0; i < 140; i++) {
        const c = document.createElement("div");
        c.className = "confetti";
        c.style.left = Math.random() * 100 + "vw";
        c.style.background =
          colors[Math.floor(Math.random() * colors.length)];
        c.style.animationDelay = Math.random() * 0.6 + "s";
        document.body.appendChild(c);
        setTimeout(() => c.remove(), 2500);
      }
    }

    function showClearMessage() {
      quizCardEl.classList.remove("hidden");
      const cleared = Object.keys(answeredCorrect).length;
      const percent = Math.round((cleared / totalQuestions) * 100);
      progressBadgeEl.textContent = "ROOM 2 í´ë¦¬ì–´! ğŸ‰";
      setDifficultyBadge("normal");
      setPartBadge("ë°ì´í„°Â·ê·¸ë˜í”„");

      quizContentEl.innerHTML = `
        <div>
          <h2 class="final-title">ë°ì´í„°Â·ê·¸ë˜í”„ ë°© íƒˆì¶œ ì„±ê³µ!</h2>
          <p class="final-score">ì´ <strong>${totalQuestions}</strong>ë¬¸ì œ ì¤‘ <strong>${cleared}</strong>ë¬¸ì œë¥¼ ë§í˜”ì–´ìš”. (${percent}%)</p>
          <p class="final-msg">
            ë‹¤ë¥¸ ë°©(ì¶œë ¥Â·ë³€ìˆ˜ / ë¬¸ìì—´Â·ì •ê·œì‹Â·ë°°ì—´)ë„ ì¤€ë¹„ë˜ë©´<br>
            ì „ì²´ íŒŒì´ì¬ ë°©íƒˆì¶œì„ ì™„ì„±í•´ ë³¼ ìˆ˜ ìˆì–´ìš”.
          </p>
        </div>
        <div class="quiz-footer">
          <div class="final-actions">
            <button class="secondary-btn" id="backToMapBtn">ë°© ì„ íƒìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
          </div>
          <div class="feedback"></div>
        </div>
      `;

      document
        .getElementById("backToMapBtn")
        .addEventListener("click", () => {
          quizCardEl.classList.add("hidden");
          showRoomSelect();
        });
    }

    function checkGameClear() {
      if (gameCleared) return;
      const cleared = Object.keys(answeredCorrect).length;
      if (cleared === totalQuestions) {
        gameCleared = true;
        launchConfetti();
        showClearMessage();
      }
    }

    // ===== ë·° ì „í™˜ =====
    function showRoomSelect() {
      dataRoomView.classList.add("hidden");
      roomSelectView.classList.remove("hidden");
    }

    function enterDataRoom() {
      roomSelectView.classList.add("hidden");
      dataRoomView.classList.remove("hidden");
      quizCardEl.classList.add("hidden");
    }

    // ===== ì´ë²¤íŠ¸ ë°”ì¸ë”© =====
    document.getElementById("enterBasic").addEventListener("click", () => {
      openTutorialCard("basic");
    });

    document.getElementById("enterData").addEventListener("click", () => {
      enterDataRoom();
    });

    document.getElementById("enterString").addEventListener("click", () => {
      openTutorialCard("string");
    });

    document.getElementById("backToRooms").addEventListener("click", () => {
      showRoomSelect();
    });

    document.querySelectorAll(".spot").forEach((btn) => {
      btn.addEventListener("click", () => {
        const id = parseInt(btn.getAttribute("data-q"), 10);
        const q = getDataQuestionById(id);
        if (q) renderDataQuestion(q);
      });
    });

    closeCardBtn.addEventListener("click", () => {
      quizCardEl.classList.add("hidden");
    });

    // ===== ì´ˆê¸°í™” =====
    pickRandomAvatar();
    updateScoreTag();
  </script>
</body>
</html>
