<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë°ì´í„° ë°©íƒˆì¶œ ê²Œì„ - í•™ìƒìš©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #0f172a;
      color: #e2e8f0;
      margin: 0;
    }
    header {
      text-align: center;
      padding: 2rem 1rem;
      background: #1e293b;
    }
    header h1 {
      margin: 0;
      font-size: 2rem;
      color: #93c5fd;
    }

    main {
      max-width: 900px;
      margin: 0 auto;
      padding: 1rem;
    }

    .stage {
      background: #1e293b;
      padding: 1.2rem 1.5rem;
      border-radius: 12px;
      margin-bottom: 1.2rem;
      border: 1px solid #334155;
    }

    .stage h2 {
      margin-top: 0;
      font-size: 1.3rem;
      color: #bfdbfe;
    }

    pre {
      background: #0f172a;
      padding: 0.75rem;
      border-radius: 8px;
      overflow-x: auto;
      border: 1px solid #334155;
    }

    .hint-btn {
      padding: 0.5rem 1rem;
      margin-top: 0.5rem;
      border: 1px solid #475569;
      border-radius: 999px;
      background: #1e293b;
      color: white;
      cursor: pointer;
    }

    .hint-btn.hint-level1 {
      background: #fde047;
      color: #1f2937;
    }
    .hint-btn.hint-level2 {
      background: #4ade80;
      color: #064e3b;
    }

    .hint-output {
      margin-top: 0.5rem;
      padding: 0.7rem;
      background: #0f172a;
      border: 1px dashed #475569;
      border-radius: 6px;
      white-space: pre-wrap;
      font-size: 0.9rem;
    }

  </style>
</head>
<body>

<header>
  <h1>ğŸ” ë°ì´í„° ë°©íƒˆì¶œ ê²Œì„ (í•™ìƒìš©)</h1>
  <p>íŒíŠ¸ë§Œ ì œê³µ! ìŠ¤ìŠ¤ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•´ ë³´ì„¸ìš”!</p>
</header>

<main>

<!-- Stage 1 -->
<section class="stage">
  <h2>ğŸ— Stage 1 â€” íŒŒì¼ ë§Œë“¤ê¸°</h2>
  <p>ì•„ë˜ ì½”ë“œë¥¼ ì°¸ê³ í•˜ì—¬ <strong>stage1.csv</strong> íŒŒì¼ì„ ì§ì ‘ ë§Œë“¤ì–´ë³´ê³  ë¶ˆëŸ¬ì™€ ë³´ì„¸ìš”.</p>

  <pre><code>import pandas as pd

df = pd.DataFrame({
    "ì¡°ê°": ["ë°©1", "íƒˆ2", "ì¶œ3", "ì„±4", "ê³µ5"],
    "íŒíŠ¸": ["ë¬¸1", "ë¬¸2", "ë¬¸3", "ë¬¸4", "ë¬¸5"]
})

df.to_csv("stage1.csv", index=False)

df_loaded = pd.read_csv("stage1.csv")
df_loaded</code></pre>

</section>

<!-- Stage 2 -->
<section class="stage">
  <h2>ğŸ” Stage 2 â€” ì •ê·œì‹ ë¬¸ì œ</h2>
  <p id="stage2-question"></p>
  <pre id="stage2-code"></pre>

  <button id="stage2-hint-btn" class="hint-btn">íŒíŠ¸ ë³´ê¸°</button>
  <div id="stage2-hint-output" class="hint-output"></div>
</section>

<!-- Stage 3 -->
<section class="stage">
  <h2>ğŸ§® Stage 3 â€” ë°°ì—´ ì¡°ê° í¼ì¦</h2>
  <p id="stage3-question"></p>
  <pre id="stage3-code"></pre>

  <button id="stage3-hint-btn" class="hint-btn">íŒíŠ¸ ë³´ê¸°</button>
  <div id="stage3-hint-output" class="hint-output"></div>
</section>

<!-- Stage 4 -->
<section class="stage">
  <h2>âœ‚ Stage 4 â€” ì¸ë±ì‹± Â· ìŠ¬ë¼ì´ì‹±</h2>

  <h3>4-1. ì¸ë±ì‹± ë¬¸ì œ</h3>
  <p>ë¬¸ìì—´ <code>word = "HELLO"</code>ì—ì„œ ë‘ ë²ˆì§¸ ê¸€ìë¥¼ êº¼ë‚´ë³´ì„¸ìš”!</p>
  <button class="hint-btn"
          data-hint="word[ìˆ«ì] í˜•íƒœë¡œ ê¸€ì ìœ„ì¹˜ë¥¼ ì„ íƒí•  ìˆ˜ ìˆì–´ìš” (0ë¶€í„° ì‹œì‘!).">
    íŒíŠ¸ ë³´ê¸°
  </button>
  <div class="hint-output"></div>

  <h3>4-2. ìŠ¬ë¼ì´ì‹± ë¬¸ì œ</h3>
  <p>ë¬¸ìì—´ <code>text = "ESCAPEROOM"</code>ì—ì„œ <code>"ROOM"</code>ë§Œ ì˜ë¼ë³´ì„¸ìš”.</p>
  <button class="hint-btn"
          data-hint="text[ì‹œì‘:ë] í˜•íƒœë¡œ ì—¬ëŸ¬ ê¸€ìë¥¼ ì„ íƒí•  ìˆ˜ ìˆì–´ìš”.">
    íŒíŠ¸ ë³´ê¸°
  </button>
  <div class="hint-output"></div>

</section>

<!-- Stage 5 -->
<section class="stage">
  <h2>ğŸ§ª Stage 5 â€” í…ìŠ¤íŠ¸ì—ì„œ ê¸€ìë§Œ ë½‘ê¸°</h2>

  <h3>5-1. íŠ¹ì • ì¹¸ ê³¨ë¼ë³´ê¸°</h3>
  <p>ì•„ë˜ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê³  íŠ¹ì • ì—´/í–‰ë§Œ ê³¨ë¼ë³´ì„¸ìš”.</p>

  <pre><code>df = pd.read_csv("stage1.csv")
df["ì¡°ê°"]         # ì—´ ì„ íƒ
df.loc[1]          # ë‘ ë²ˆì§¸ í–‰
df["ì¡°ê°"].loc[1] # ë‘ ë²ˆì§¸ í–‰ì˜ 'ì¡°ê°' ê°’</code></pre>

  <button class="hint-btn"
          data-hint="df['ì—´ì´ë¦„'], df.loc[í–‰ë²ˆí˜¸] í˜•íƒœë¡œ ì›í•˜ëŠ” ì¹¸ì„ ì„ íƒí•  ìˆ˜ ìˆì–´ìš”.">
    íŒíŠ¸ ë³´ê¸°
  </button>
  <div class="hint-output"></div>

  <h3>5-2. 'ë°©íƒˆì¶œì„±ê³µ' ë§Œë“¤ê¸°</h3>
  <p>ë¬¸ìì™€ ìˆ«ìê°€ ì„ì¸ <code>"ë°©1", "íƒˆ2"</code> ê°™ì€ ë°ì´í„°ì—ì„œ ìˆ«ìë¥¼ ì—†ì• ë³´ì„¸ìš”!</p>
  <button class="hint-btn"
          data-hint="df['ì¡°ê°'].str.replace() ì™€ ì •ê·œì‹(\\d+)ì„ í™œìš©í•´ë³´ì„¸ìš”!">
    íŒíŠ¸ ë³´ê¸°
  </button>
  <div class="hint-output"></div>

</section>

</main>

<script>
  function setupHintButtons() {
    const buttons = document.querySelectorAll(".hint-btn");
    buttons.forEach((btn) => {
      btn.dataset.clicks = "0";
      btn.addEventListener("click", () => {
        let c = Number(btn.dataset.clicks) + 1;
        btn.dataset.clicks = c;
        const out = btn.nextElementSibling;
        if (c === 1) {
          btn.classList.add("hint-level1");
          out.textContent = "ğŸ’¡ íŒíŠ¸: " + (btn.dataset.hint || "íŒíŠ¸ ì¤€ë¹„ ì¤‘");
        } else {
          btn.classList.add("hint-level2");
          out.textContent = "â— ì •ë‹µì€ êµì‚¬ìš© ìë£Œì—ì„œ í™•ì¸í•˜ì„¸ìš”!";
        }
      });
    });
  }

  function stage2() {
    const qs = [
      {
        q: 'ë¬¸ì œ) ë¬¸ìì—´ì´ "CODE"ë¡œ ì‹œì‘í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ì„¸ìš”.\ntext = "CODE2025!"',
        code: 'import re\ntext = "CODE2025!"',
        hint: "re.match ë¥¼ ì‚¬ìš©í•´ë³´ì„¸ìš”!"
      },
      {
        q: 'ë¬¸ì œ) "2025"ê°€ ë¬¸ì¥ ì•ˆì— ìˆëŠ”ì§€ ì°¾ì•„ë³´ì„¸ìš”.\ntext = "íƒˆì¶œì½”ë“œëŠ” 2025ë…„ì— ê³µê°œëœë‹¤!"',
        code: 'import re\ntext = "íƒˆì¶œì½”ë“œëŠ” 2025ë…„ì— ê³µê°œëœë‹¤!"',
        hint: "re.search ë¡œ ì°¾ì„ ìˆ˜ ìˆì–´ìš”!"
      },
      {
        q: 'ë¬¸ì œ) ëŒ€ë¬¸ì+ìˆ«ì ì¡°í•©ì„ ëª¨ë‘ ì°¾ì•„ë³´ì„¸ìš”.\ntext = "ID: A12, B07, C99"',
        code: 'import re\ntext = "ID: A12, B07, C99"',
        hint: "re.findall ì„ ì‚¬ìš©í•´ë³´ì„¸ìš”!"
      }
    ];
    const pick = qs[Math.floor(Math.random() * qs.length)];
    document.getElementById("stage2-question").textContent = pick.q;
    document.getElementById("stage2-code").textContent = pick.code;

    const btn = document.getElementById("stage2-hint-btn");
    btn.dataset.hint = pick.hint;
  }

  function stage3() {
    const qs = [
      {
        q: "ë¬¸ì œ) ë°°ì—´ [1,2,3]ì— 3ì„ ë”í•´ë³´ì„¸ìš”!",
        code: "import numpy as np\narr = np.array([1,2,3])",
        hint: "arr + 3 ì„ í•´ë³´ì„¸ìš”!"
      },
      {
        q: "ë¬¸ì œ) [2,4,6] ì „ì²´ë¥¼ ê³±í•´ë³´ì„¸ìš”!",
        code: "import numpy as np\narr = np.array([2,4,6])",
        hint: "np.prod(arr) ì‚¬ìš©!"
      },
      {
        q: "ë¬¸ì œ) [10,5,2] ì²« ë²ˆì§¸ ê°’ì—ì„œ ë‚˜ë¨¸ì§€ ë‘ ê°’ì„ ë¹¼ë³´ì„¸ìš”!",
        code: "import numpy as np\narr = np.array([10,5,2])",
        hint: "arr[0] - arr[1] - arr[2]"
      },
      {
        q: "ë¬¸ì œ) [20,10,5]ë¥¼ 5ë¡œ ë‚˜ëˆ ë³´ì„¸ìš”!",
        code: "import numpy as np\narr = np.array([20,10,5])",
        hint: "arr / 5"
      }
    ];
    const pick = qs[Math.floor(Math.random() * qs.length)];
    document.getElementById("stage3-question").textContent = pick.q;
    document.getElementById("stage3-code").textContent = pick.code;

    const btn = document.getElementById("stage3-hint-btn");
    btn.dataset.hint = pick.hint;
  }

  document.addEventListener("DOMContentLoaded", () => {
    stage2();
    stage3();
    setupHintButtons();
  });
</script>

</body>
</html>
